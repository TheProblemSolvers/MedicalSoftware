<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Medical Software</title>
        <script src="../scripts.js"></script>
        <link rel="stylesheet" type="text/css" href="../stylesheet.css">
    </head>
 
    <body id="filler">
 
    <div class="topnav">
 
            <a href="../index.html">Logout</a>
            <a href="patient_lander.html">Home</a>
            <a href="patient_checkin.html">Check-In</a>
            <a href="patient_calendar.html">Calender</a>
            <a href="patient_app_scheduler.html">Scheduling</a>
            <a href="patient_profile.html">Your Profile</a>
            <a href="patient_accountSync.html">Account Syncing</a>
 
    </div>
 
   <section class="content">
 
    <div id="appointment">
 
        <h1>Appointment Scheduling</h1>
        <?php 
            require("../scripts.php");
            if(getLinkedAccount($_COOKIE['userId']) == false){
                echo "<p class='errorMessage'>No provider account linked. <br>Please link a providers account to continue.</p>";
            }
        ?>
 
        <form method="POST" action="<?php echo htmlspecialchars($_SERVER['PHP_SELF']);?>">
 
            <label for="Appointment Type">
 
                <em>Appointment Type:</em>
 
            </label>
 
            <br>
            <br>
 
                <select name="appType" list="Appointment Types" value="Appointment Type" id="appType">
                    <option value="Well Visit">Well Visit</option>
                    <option value="Office Visit">Office Visit</option>
                    <option value="Physical">Physical</option>
                    <option value="School/Sports Physical">School/Sports Physical</option>
                    <option value="Screening Diagnostic Labs">Screening Diagnostic Labs</option>
                    <option value="Healthcare Visit">Healthcare Visit</option>
                </select>
 
            <br>
            <br>
            
            <label>
                
                <em>Is This an Emergency?</em>
            
            </label>
 
            <br>
            <br>
 
            <input type="button" onclick="emergencyButton('Yes');" value="Yes">
            <input type="button" onclick="emergencyButton('No');" value="No">
 
            <p id="emergencyYes"></p>
 
            <!-- Input for adding text to cell -->
            <input type="text" name ="addInfo" id="addInfo">
 
            <br>
            <br>
 
            <!-- Input for selecting a date -->
            <input type="date" name="calInput" id="calInput" required>
 
            <br>
            <br>

            <!-- Input for selecting a date -->
            <input type="time" name="timeInput" id="timeInput" min="07:00:00" max="17:30:00" step="1800" width="200px" required>

            <!-- <input type="number" name="timeInput" id="timeInput">
            <select name="time" list="Time of Day" id="time">
                <option value="Well Visit">AM</option>
                <option value="Office Visit">PM</option>
            </select> -->

            <br>
            <br>
 
            <!-- Function call for date input -->
            <input type="submit" onclick="dateRec();" value="Submit Date">
 
        </form>
 
        <?php
            if($_SERVER['REQUEST_METHOD']=="POST"){
                echo storeApptData($_COOKIE['userId'], $_POST['appType'], $_POST['addInfo'], 
                    $_POST['calInput'], $_POST['timeInput']);
                //header("Refresh:0; url=#");
            }
        ?>
 
        <br>
        
        <style>
 
            #calendars {
                width: 65%;
                margin-left: 30%;
            }
 
        </style>
 
        <body id=""onload="printCalendar(currentMonth, currentYear)"></body>
        </div>
        </section>
    </body>
</html>